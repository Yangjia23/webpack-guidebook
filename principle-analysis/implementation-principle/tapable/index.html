<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/webpack-guidebook/umi.css" />
    <script>
      window.routerBase = "/webpack-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.20
    </script>
    <title>Tapable</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/webpack-guidebook-favicon.svg&#x27;)" href="/webpack-guidebook//">Webpack Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/webpack-guidebook//basic-summary">基本综述</a><a aria-current="page" class="active" href="/webpack-guidebook//principle-analysis">原理分析</a><a href="/webpack-guidebook//best-practice">最佳实践</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/webpack-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/webpack-guidebook-favicon.svg&#x27;)" href="/webpack-guidebook//"></a><h1>Webpack Guidebook</h1><p>Webpack 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/webpack-guidebook//basic-summary">基本综述</a></li><li><a aria-current="page" class="active" href="/webpack-guidebook//principle-analysis">原理分析</a></li><li><a href="/webpack-guidebook//best-practice">最佳实践</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/webpack-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/webpack-guidebook//principle-analysis/babel">Babel</a></li><li><a href="/webpack-guidebook//principle-analysis/operational-principle">工作原理</a><ul><li><a href="/webpack-guidebook//principle-analysis/operational-principle/file-watch"><span>文件监听</span></a></li><li><a href="/webpack-guidebook//principle-analysis/operational-principle/hot-module-replacement"><span>模块热更新</span></a></li><li><a href="/webpack-guidebook//principle-analysis/operational-principle/filenames-hashes"><span>文件指纹策略</span></a></li><li><a href="/webpack-guidebook//principle-analysis/operational-principle/tree-shaking"><span>Tree Shaking</span></a></li><li><a href="/webpack-guidebook//principle-analysis/operational-principle/scope-hoisting"><span>作用域提升</span></a></li><li><a href="/webpack-guidebook//principle-analysis/operational-principle/sourcemap"><span>SourceMap</span></a></li></ul></li><li><a aria-current="page" class="active" href="/webpack-guidebook//principle-analysis/implementation-principle">底层原理</a><ul><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/workflow"><span>构建流程</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/simple-implementation"><span>简易实现</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/source-code-analysis"><span>源码分析</span></a></li><li><a aria-current="page" class="active" href="/webpack-guidebook//principle-analysis/implementation-principle/tapable"><span>Tapable</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/compiler"><span>Compiler</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/compilation"><span>Compilation</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/loader"><span>Loader 机制</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/plugin"><span>Plugin 机制</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/ast"><span>抽象语法树</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="基本概念" data-depth="2" class=""><a href="/webpack-guidebook//principle-analysis/implementation-principle/tapable#基本概念"><span>基本概念</span></a></li><li title="使用示例" data-depth="2" class=""><a href="/webpack-guidebook//principle-analysis/implementation-principle/tapable#使用示例"><span>使用示例</span></a></li><li title="实例钩子" data-depth="2" class=""><a href="/webpack-guidebook//principle-analysis/implementation-principle/tapable#实例钩子"><span>实例钩子</span></a></li><li title="钩子分类" data-depth="2" class=""><a href="/webpack-guidebook//principle-analysis/implementation-principle/tapable#钩子分类"><span>钩子分类</span></a></li><li title="使用方式" data-depth="3" class=""><a href="/webpack-guidebook//principle-analysis/implementation-principle/tapable#使用方式"><span>使用方式</span></a></li><li title="拦截器" data-depth="2" class=""><a href="/webpack-guidebook//principle-analysis/implementation-principle/tapable#拦截器"><span>拦截器</span></a></li><li title="上下文" data-depth="2" class=""><a href="/webpack-guidebook//principle-analysis/implementation-principle/tapable#上下文"><span>上下文</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="tapable"><a aria-hidden="true" href="#tapable"><span class="icon icon-link"></span></a>Tapable</h1><p>Webpack 本质上是一种事件流的机制，它的工作流程就是将各个插件串联起来，而实现这一切的核心就是 Tapable，Webpack 中最核心的负责编译的 Compiler 和负责创建 bundles 的 Compilation 都是 Tapable 的子类，并且实例内部的生命周期也是通过 Tapable 库提供的钩子类实现的。</p><h2 id="基本概念"><a aria-hidden="true" href="#基本概念"><span class="icon icon-link"></span></a>基本概念</h2><p><a href="https://github.com/webpack/tapable" target="_blank" rel="noopener noreferrer">Tapable<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 是一个小型的库，允许你对一个 JavaScript 模块添加和应用插件。它可以被继承或混入到其他模块中。</p><p>Tapable 是类似于 Node.js 的 EventEmitter 的类，专注于自定义事件的触发和处理。除此之外，Tapable 还允许你通过回调函数的参数，访问事件的 <strong>触发者</strong>（emittee）或 <strong>提供者</strong>（producer），从而控制着 Webpack 的插件系统。</p><p>Tapable 有四组成员函数：</p><ul><li><code>plugin(name:string, handler:function)</code>：允许将一个自定义插件注册到 Tapable 实例 的事件中。它的行为和 EventEmitter 的 <code>on()</code> 方法相似，用来注册一个处理函数/监听器，来在信号/事件发生时做一些事情。</li><li><code>apply(…pluginInstances: (AnyPlugin|function)[])</code>：<code>AnyPlugin</code> 应该是一个拥有 <code>apply</code> 方法的类（也可以是一个对象，但是不常见），或者只是一个包含注册代码的函数。这个方法只 <strong>调用</strong> 插件的定义，从而将真正的事件监听器可以注册到 <em>Tapable</em> 实例的注册列表中。</li><li><code>applyPlugins*(name:string, …)</code>：<em>Tapable</em> 实例可以通过使用这些函数，在指定的 <code>hash</code> 下应用所有的插件。这一组方法的行为和 <code>EventEmitter</code> 的 <code>emit()</code> 方法相似，使用多种策略细致地控制事件的触发。</li><li><code>mixin(pt: Object)</code>：一个简单地方法，使用混入而不是继承的方式扩展 <code>Tapable</code> 的原型。</li></ul><p>不同的 <code>applyPlugins*</code> 方法覆盖了以下使用场景：</p><ul><li>连续地执行插件。</li><li>并行地执行插件。</li><li>一个接一个地执行插件，从前面的插件（瀑布流）获取输入。</li><li>异步地执行插件。</li><li>在允许时停止执行插件：也就是说，一旦一个插件返回了一个非 <code>undefined</code> 值，跳出执行流，返回这个插件的返回值。听起来像是 <code>EventEmitter</code> 的 <code>once()</code> 方法，但是完全不同。</li></ul><h2 id="使用示例"><a aria-hidden="true" href="#使用示例"><span class="icon icon-link"></span></a>使用示例</h2><p><a href="https://webpack.docschina.org/api/compiler" target="_blank" rel="noopener noreferrer">Compiler<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 是 Webpack 的一个核心 Tapable 实例，负责编译 Webpack 配置对象并返回 <a href="https://webpack.docschina.org/api/compilation" target="_blank" rel="noopener noreferrer">Compilation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 实例。而 Compilation 实例执行时，会创建所需的 bundles。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// node_modules/webpacl/lib/Compiler.js
var Tapable = require(&#x27;tapable&#x27;);

function Compiler() {
  Tapable.call(this);
}

Compiler.prototype = Object.create(Tapable.prototype);
" data-status="copy"></button><div class="token-line"><span class="token comment">// node_modules/webpacl/lib/Compiler.js</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token maybe-class-name">Tapable</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;tapable&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">Compiler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Tapable</span><span class="token punctuation">.</span><span class="token method function property-access">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">Compiler</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token class-name">Tapable</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>现在在这个 compiler 上写插件：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// my-custom-plugin.js
function CustomPlugin() {}

CustomPlugin.prototype.apply = function(compiler) {
  compiler.plugin(&#x27;emit&#x27;, pluginFunction);
};
" data-status="copy"></button><div class="token-line"><span class="token comment">// my-custom-plugin.js</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">CustomPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">CustomPlugin</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">apply</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  compiler</span><span class="token punctuation">.</span><span class="token method function property-access">plugin</span><span class="token punctuation">(</span><span class="token string">&#x27;emit&#x27;</span><span class="token punctuation">,</span><span class="token plain"> pluginFunction</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>compiler 会在生命周期中适当的时机执行这个插件：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// node_modules/webpacl/lib/Compiler.js

// 将获取 `emit` 名称下所有插件并运行它们
this.apply * (&#x27;emit&#x27;, options);
" data-status="copy"></button><div class="token-line"><span class="token comment">// node_modules/webpacl/lib/Compiler.js</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 将获取 `emit` 名称下所有插件并运行它们</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">apply</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token string">&#x27;emit&#x27;</span><span class="token punctuation">,</span><span class="token plain"> options</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="实例钩子"><a aria-hidden="true" href="#实例钩子"><span class="icon icon-link"></span></a>实例钩子</h2><p>Tapable 库暴露了很多 Hook（钩子）类，为插件提供挂载的钩子：</p><table><thead><tr><th>钩子</th><th>钩入方式</th><th>作用</th></tr></thead><tbody><tr><td>Hook</td><td><code>tap</code>、<code>tapAsync</code>、<code>tapPromise</code></td><td>钩子基类</td></tr><tr><td>SyncHook</td><td><code>tap</code></td><td>同步钩子</td></tr><tr><td>SyncBailHook</td><td><code>tap</code></td><td>同步熔断钩子，只要执行的 handler 有返回值，剩余 handler 不执行</td></tr><tr><td>SyncWaterfallHook</td><td><code>tap</code></td><td>同步流水钩子，上个 handler 的返回值作为下个 handler 的输入值</td></tr><tr><td>SyncLoopHook</td><td><code>tap</code></td><td>同步循环钩子，只要执行的 handler 有返回值，一直循环执行此 handler</td></tr><tr><td>AsyncParallelHook</td><td><code>tap</code>、<code>tapAsync</code>、<code>tapPromise</code></td><td>异步并发钩子，handler 并行触发</td></tr><tr><td>AsyncParallelBailHook</td><td><code>tap</code>、<code>tapAsync</code>、<code>tapPromise</code></td><td>异步并发熔断钩子，handler 并行触发，但是跟 handler 内部调用回调函数的逻辑有关</td></tr><tr><td>AsyncSeriesHook</td><td><code>tap</code>、<code>tapAsync</code>、<code>tapPromise</code></td><td>异步串行钩子，handler 串行触发</td></tr><tr><td>AsyncSeriesBailHook</td><td><code>tap</code>、<code>tapAsync</code>、<code>tapPromise</code></td><td>异步串行熔断钩子，handler 并行触发，但是跟 handler 内部调用回调函数的逻辑有关</td></tr><tr><td>AsyncSeriesWaterfallHook</td><td><code>tap</code>、<code>tapAsync</code>、<code>tapPromise</code></td><td>异步串行流水钩子，上个 handler 可以根据内部的回调函数传给下个 handler</td></tr></tbody></table><p><strong>Hook Helper 与 Tapable 类</strong></p><table><thead><tr><th>名称</th><th>作用</th></tr></thead><tbody><tr><td>HookCodeFactory</td><td>编译生成可执行 fn 的工厂类</td></tr><tr><td>HookMap</td><td>Map 结构，存储多个 Hook 实例</td></tr><tr><td>MutiHook</td><td>组合多个 Hook 实例</td></tr><tr><td>Tapable</td><td>向前兼容老版本，实例必须拥有 Hooks 属性</td></tr></tbody></table><h2 id="钩子分类"><a aria-hidden="true" href="#钩子分类"><span class="icon icon-link"></span></a>钩子分类</h2><p>Hook 的类型可以按照 <strong>事件回调的运行逻辑</strong> 或者 <strong>触发事件的方式</strong> 来分类。</p><p><strong>事件回调的运行逻辑</strong></p><table><thead><tr><th>类型</th><th>方法</th></tr></thead><tbody><tr><td>Basic</td><td>基础类型，单纯的调用注册的事件回调，并并不关心其内部的运行逻辑</td></tr><tr><td>Bail</td><td>保险类型，当一个事件回调在运行时返回的值不为 <code>undefined</code> 时，停止后面事件回调的执行</td></tr><tr><td>Waterfall</td><td>瀑布类型，如果当前执行的事件回调返回值不为 <code>undefined</code>，那么就把下一个事件回调的第一个参数替换成这个值</td></tr><tr><td>Loop</td><td>循环类型，如果当前执行的事件回调的返回值不是 <code>undefined</code>，重新从第一个注册的事件回调处执行，直到当前执行的事件回调没有返回值</td></tr></tbody></table><p><strong>触发事件的方式</strong></p><table><thead><tr><th>类型</th><th>方法</th></tr></thead><tbody><tr><td>Sync</td><td>同步方法。Sync 开头的 Hook 类只能用 <code>tap</code> 方法注册事件回调，这类事件回调会同步执行；如果使用 <code>tapAsync</code> 或者 <code>tapPromise</code> 方法注册则会<strong style="color:red">报错</strong></td></tr><tr><td>AsyncSeries</td><td>异步串行钩子。Async 开头的 Hook 类，没法用 <code>call</code> 方法触发事件，必须用 <code>callAsync</code> 或者 Promise 方法触发；这两个方法都能触发 <code>tap</code>、<code>tapAsync</code> 和 <code>tapPromise</code> 注册的事件回调；AsyncSeries 按照顺序执行，当前事件回调如果是异步的，那么会等到异步执行完毕才会执行下一个事件回调。</td></tr><tr><td>AsyncParallel</td><td>异步并行执行钩子。AsyncParalle 会并行执行所有的事件回调</td></tr></tbody></table><h3 id="使用方式"><a aria-hidden="true" href="#使用方式"><span class="icon icon-link"></span></a>使用方式</h3><p>Tapable 暴露出来的都是类方法，<code>new</code> 一个类方法获得我们需要的钩子。</p><p>class 接受数组参数 <code>options</code>，非必传。类方法会根据传参，接受同样数量的参数。</p><p>🌰 <strong>使用示例：</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const hook1 = new SyncHook([&#x27;arg1&#x27;, &#x27;arg2&#x27;, &#x27;arg3&#x27;]);
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> hook1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">SyncHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;arg1&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;arg2&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;arg3&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>Tabpack 提供了 同步 &amp; 异步 绑定钩子的方法，并且他们都有帮 ID 难过事件和执行事件对应的方法。</p><table><thead><tr><th>Async*</th><th>Sync*</th></tr></thead><tbody><tr><td>绑定：<code>tapAsync/tapPromise/tap</code></td><td>绑定：<code>tap</code></td></tr><tr><td>执行：<code>callAsync/promise</code></td><td>执行：<code>call</code></td></tr></tbody></table><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const hook1 = new SyncHook([&#x27;arg1&#x27;, &#x27;arg2&#x27;, &#x27;arg3&#x27;]);

// 绑定事件到 Webpack 事件流
hook1.tap(&#x27;hook1&#x27;, (arg1, arg2, arg3) =&gt; console.log(arg1, arg2, arg3));

// 执行绑定的事件
hook1.call(1, 2, 3);
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> hook1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">SyncHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;arg1&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;arg2&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;arg3&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 绑定事件到 Webpack 事件流</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">hook1</span><span class="token punctuation">.</span><span class="token method function property-access">tap</span><span class="token punctuation">(</span><span class="token string">&#x27;hook1&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">arg1</span><span class="token parameter punctuation">,</span><span class="token parameter"> arg2</span><span class="token parameter punctuation">,</span><span class="token parameter"> arg3</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">arg1</span><span class="token punctuation">,</span><span class="token plain"> arg2</span><span class="token punctuation">,</span><span class="token plain"> arg3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 执行绑定的事件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">hook1</span><span class="token punctuation">.</span><span class="token method function property-access">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="拦截器"><a aria-hidden="true" href="#拦截器"><span class="icon icon-link"></span></a>拦截器</h2><p>所有钩子都提供额外的拦截器（Interception） API：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 注册拦截器
compiler.hooks.calculateRoutes.intercept({
  call: (source, target, routesList) =&gt; {
    console.log(&#x27;Starting to calculate routes.&#x27;);
  },
  register: tapInfo =&gt; {
    // tapInfo = { type: &#x27;promise&#x27;, name: &#x27;GoogleMapsPlugin&#x27;, fn: ... }
    console.log(`${tapInfo.name} is doing sth.`);
    return tapInfo;
  },
});
" data-status="copy"></button><div class="token-line"><span class="token comment">// 注册拦截器</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">compiler</span><span class="token punctuation">.</span><span class="token property-access">hooks</span><span class="token punctuation">.</span><span class="token property-access">calculateRoutes</span><span class="token punctuation">.</span><span class="token method function property-access">intercept</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function-variable function">call</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token parameter punctuation">,</span><span class="token parameter"> target</span><span class="token parameter punctuation">,</span><span class="token parameter"> routesList</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Starting to calculate routes.&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function-variable function">register</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token parameter">tapInfo</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// tapInfo = { type: &#x27;promise&#x27;, name: &#x27;GoogleMapsPlugin&#x27;, fn: ... }</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">tapInfo</span><span class="token template-string interpolation punctuation">.</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string"> is doing sth.</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> tapInfo</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li><code>call: (...args) =&gt; void</code>：当你的钩子触发之前（也就是 <code>call()</code> 之前），就会触发这个函数，你可以访问钩子的参数，多个钩子执行一次</li><li><code>tap: (tap:Tap) =&gt; void</code>：每个钩子执行之前（多个钩子执行多个），就会触发这个函数</li><li><code>loop: (...args) =&gt; void</code>：这个会为你的每个循环钩子（LoopHook，就是类型到 Loop 的）触发，具体什么时候没说</li><li><code>register: (tap: Tap) =&gt; Tap | undefined</code>：每添加一个 Tap 都会触发你 interceptor 上的 register，你下个拦截器的 register 函数得到的参数，取决于你上个 register 返回的值，所以最好返回一个 <code>tap</code> 钩子</li></ul><h2 id="上下文"><a aria-hidden="true" href="#上下文"><span class="icon icon-link"></span></a>上下文</h2><p>插件和拦截器都可以选择加入一个可选的 <code>context</code> 对象，这个可以被用于传递随意的值到队列中的插件和拦截器。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="compiler.hooks.accelerate.intercept({
  context: true,
  tap: (context, tapInfo) =&gt; {
    // tapInfo = { type: &quot;sync&quot;, name: &quot;NoisePlugin&quot;, fn: ... }
    console.log(`${tapInfo.name} is doing it&#x27;s job`);

    // `context` starts as an empty object if at least one plugin uses `context: true`.
    // 如果最少有一个插件使用 `context` 那么context 一开始是一个空的对象
    // If no plugins use `context: true`, then `context` is undefined
    // 如过tap进去的插件没有使用`context` 的 那么内部的`context` 一开始就是undefined
    if (context) {
      // Arbitrary properties can be added to `context`, which plugins can then access.
      // 任意属性都可以添加到`context`, 插件可以访问到这些属性
      context.hasMuffler = true;
    }
  },
});

compiler.hooks.accelerate.tap(
  {
    name: &#x27;NoisePlugin&#x27;,
    context: true,
  },
  (context, newSpeed) =&gt; {
    if (context &amp;&amp; context.hasMuffler) {
      console.log(&#x27;Silence...&#x27;);
    } else {
      console.log(&#x27;Vroom!&#x27;);
    }
  }
);
" data-status="copy"></button><div class="token-line"><span class="token plain">compiler</span><span class="token punctuation">.</span><span class="token property-access">hooks</span><span class="token punctuation">.</span><span class="token property-access">accelerate</span><span class="token punctuation">.</span><span class="token method function property-access">intercept</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  context</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function-variable function">tap</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token parameter punctuation">,</span><span class="token parameter"> tapInfo</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// tapInfo = { type: &quot;sync&quot;, name: &quot;NoisePlugin&quot;, fn: ... }</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">tapInfo</span><span class="token template-string interpolation punctuation">.</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string"> is doing it&#x27;s job</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// `context` starts as an empty object if at least one plugin uses `context: true`.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 如果最少有一个插件使用 `context` 那么context 一开始是一个空的对象</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// If no plugins use `context: true`, then `context` is undefined</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 如过tap进去的插件没有使用`context` 的 那么内部的`context` 一开始就是undefined</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">context</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// Arbitrary properties can be added to `context`, which plugins can then access.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// 任意属性都可以添加到`context`, 插件可以访问到这些属性</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      context</span><span class="token punctuation">.</span><span class="token property-access">hasMuffler</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">compiler</span><span class="token punctuation">.</span><span class="token property-access">hooks</span><span class="token punctuation">.</span><span class="token property-access">accelerate</span><span class="token punctuation">.</span><span class="token method function property-access">tap</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;NoisePlugin&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    context</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token parameter punctuation">,</span><span class="token parameter"> newSpeed</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">context </span><span class="token operator">&amp;&amp;</span><span class="token plain"> context</span><span class="token punctuation">.</span><span class="token property-access">hasMuffler</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Silence...&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Vroom!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><hr/><p><strong>参考资料：</strong></p><ul><li><a href="https://github.com/webpack/tapable" target="_blank" rel="noopener noreferrer">📖 webpack/tapable<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://webpack.docschina.org/api/tapable/#src/components/Sidebar/Sidebar.jsx" target="_blank" rel="noopener noreferrer">📖 Webpack 中文文档：Tapable<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://zhuanlan.zhihu.com/p/135997214" target="_blank" rel="noopener noreferrer">📝 Webpack 源码解读：理解 Tapable 原理（2020-04-24）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://zhuanlan.zhihu.com/p/100974318" target="_blank" rel="noopener noreferrer">📝 Webpack 核心库 Tapable 的使用与原理分析（2020-01-06）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://juejin.im/post/5dc169b0f265da4d542092c6" target="_blank" rel="noopener noreferrer">📝Webpack 插件机制之 Tapable 源码解析（2019-11-25）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://juejin.im/post/5dcba29f6fb9a04abb01fd77" target="_blank" rel="noopener noreferrer">📝 编写自定义 Webpack 插件从理解 Tapable 开始<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://juejin.im/post/5dc16519f265da4cf1583eb2" target="_blank" rel="noopener noreferrer">📝 深入源码解析 Tapable 实现原理（2019-11-05）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://zhuanlan.zhihu.com/p/89443337" target="_blank" rel="noopener noreferrer">📝 基于数据结构从源码解析 Webpack 核心模块 Tapable（2019-10-31）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://juejin.im/post/5d36faa9e51d45109725ff55" target="_blank" rel="noopener noreferrer">📝 Webpack Tapable 使用研究<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://juejin.im/post/5beb8875e51d455e5c4dd83f" target="_blank" rel="noopener noreferrer">📝 干货！撸一个 Webpack 插件（内含 Tapable 详解+ Webpack 流程）（2018-11-14）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://zhuanlan.zhihu.com/p/33577267" target="_blank" rel="noopener noreferrer">📝 异步编程学习笔记之 Tapable 源码分析（2018-02-05）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/Webpack-Guidebook/edit/master/docs/principle-analysis/implementation-principle/tapable.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">9/18/2020, 10:19:07 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/webpack-guidebook/umi.js"></script>
    <script src="/webpack-guidebook/docs__principle-analysis__implementation-principle__tapable.md.js"></script>
  </body>
</html>
