(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{192:function(t,a,s){"use strict";s.r(a);var n=s(0),r=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"output-输出"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-输出","aria-hidden":"true"}},[t._v("#")]),t._v(" output 输出")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://webpack.docschina.org/configuration/output/",target:"_blank",rel:"noopener noreferrer"}},[t._v("中文文档"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("作用：如何输出、哪里输出。")]),t._v(" "),s("ul",[s("li",[t._v("path")]),t._v(" "),s("li",[t._v("pathinfo")]),t._v(" "),s("li",[t._v("publicPath")]),t._v(" "),s("li",[t._v("filename")]),t._v(" "),s("li",[t._v("chunkFilename")])]),t._v(" "),s("h2",{attrs:{id:"path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#path","aria-hidden":"true"}},[t._v("#")]),t._v(" path")]),t._v(" "),s("p",[t._v("输出文件路径（绝对路径）")]),t._v(" "),s("p",[t._v("⚠️ "),s("code",[t._v("[hash]")]),t._v(" 在参数中被替换为编译过程（compilation）的 hash。")]),t._v(" "),s("h2",{attrs:{id:"pathinfo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pathinfo","aria-hidden":"true"}},[t._v("#")]),t._v(" pathinfo")]),t._v(" "),s("p",[t._v("用于告知 webpack 在 bundle 中引入「所包含模块信」的相关注释。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("development")]),t._v(" => true 对于开发环境阅读生成代码可以提供有用的信息")]),t._v(" "),s("li",[s("code",[t._v("production")]),t._v(" => false")])]),t._v(" "),s("h2",{attrs:{id:"publicpath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#publicpath","aria-hidden":"true"}},[t._v("#")]),t._v(" publicPath")]),t._v(" "),s("p",[t._v("此选项指定在浏览器中所引用的「此输出目录对应的"),s("strong",[t._v("公开 URL")]),t._v("」。相对 URL（relative URL）会被相对于 HTML 页面（或 "),s("code",[t._v("<base>")]),t._v(" 标签）解析。相对于服务的 URL（Server-relative URL），相对于协议的 URL（protocol-relative URL）或绝对 URL（absolute URL）也可是可能用到的，或者有时必须用到，例如：当将资源托管到 CDN 时。")]),t._v(" "),s("p",[t._v("对于"),s("strong",[t._v("按需加载")]),t._v("（on-demand-load）或"),s("strong",[t._v("加载外部资源")]),t._v("（external resource）（如图片、文件等）是十分重要的选项。")]),t._v(" "),s("h2",{attrs:{id:"filename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#filename","aria-hidden":"true"}},[t._v("#")]),t._v(" filename")]),t._v(" "),s("p",[t._v("输出 bundle 的名称。")]),t._v(" "),s("p",[t._v("当通过多个入口起点（entry point）、代码拆分（code spilting）或各种插件（plugins）创建多个 bundle。应该以以下一种方式替换。来赋予每个 bundle 唯一的名称。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("变量名")]),t._v(" "),s("th",[t._v("含义")]),t._v(" "),s("th",[t._v("其他")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("id")]),t._v(" "),s("td",[t._v("Chunk 的唯一标志性，从 0 开始")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("name")]),t._v(" "),s("td",[t._v("Chunk 的名称")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("hash")]),t._v(" "),s("td",[t._v("Chunk 的唯一标志性的 Hash 值")]),t._v(" "),s("td",[t._v("长度可指定，默认 20 位")])]),t._v(" "),s("tr",[s("td",[t._v("chunkhash")]),t._v(" "),s("td",[t._v("Chunk 内容的 Hash 值")]),t._v(" "),s("td",[t._v("长度可指定，默认 20 位")])])])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("export "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n    output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        filename"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[id].bundle.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        filename"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[name].[hash:5].js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        filename"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[chunkhash:5].js'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("⚠️ ExtractTextWebpackPlugin 插件使用 contenthash 而不是 chunkhash 来代表哈希值，原因在于 ExtractTextWebpackPlugin 提取出来的内容是代码内容本身，而不是由一组模块组成的 Chunk。")]),t._v(" "),s("h2",{attrs:{id:"chunkfilename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chunkfilename","aria-hidden":"true"}},[t._v("#")]),t._v(" chunkFilename")]),t._v(" "),s("p",[t._v("配置无入口的 Chunk 在输出时的文件名称。")]),t._v(" "),s("p",[t._v("只用于指定在运行过程中生成的 Chunk 在输出时的文件名称。")]),t._v(" "),s("p",[t._v("会在运行时生成 Chunk 的常见场景包括：")]),t._v(" "),s("ul",[s("li",[t._v("使用 CommonsChunkPlugin")]),t._v(" "),s("li",[t._v("使用 "),s("code",[t._v("import('path/to/module')")]),t._v(" 动态加载等")])]),t._v(" "),s("h2",{attrs:{id:"crossoriginloading"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#crossoriginloading","aria-hidden":"true"}},[t._v("#")]),t._v(" crossOriginLoading")]),t._v(" "),s("p",[t._v("异步加载通过 JSONP 方式实现。JSONP 的原理是动态地向 HTML 中插入一个 "),s("code",[t._v('<script="url"><\/script>')]),t._v(" 标签去加载异步资源。")]),t._v(" "),s("p",[s("code",[t._v("output.crossOriginLoading")]),t._v(" 则是用于配置这个异步插入的标签的 crossorigin 值。")]),t._v(" "),s("p",[s("code",[t._v("<script>")]),t._v(" 标签的 crossorigin 属性可以取以下值：")]),t._v(" "),s("ul",[s("li",[t._v("anonymous（默认），在加载此脚本资源时不会带上用户的 Cookies")]),t._v(" "),s("li",[t._v("use-credentials，在加载此脚本资源时会带上用户的 Cookies")])]),t._v(" "),s("p",[t._v("通常用设置 crossorigin 来获取异步加载的脚本执行时的详细错误信息。")]),t._v(" "),s("h2",{attrs:{id:"librarytarget-和-library"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#librarytarget-和-library","aria-hidden":"true"}},[t._v("#")]),t._v(" libraryTarget 和 library")]),t._v(" "),s("p",[t._v("当用 Webpack 去构建一个可以被其他模块导入使用的库时，需要用到 libraryTarget 和 library。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("output.libraryTarget")]),t._v(" 配置以何种方式导出库")]),t._v(" "),s("li",[s("code",[t._v("output.library")]),t._v(" 配置导出库的名称")])]),t._v(" "),s("p",[t._v("通常搭配使用。")]),t._v(" "),s("p",[s("code",[t._v("output.libraryTarget")]),t._v(" 是字符串的枚举类型，支持以下配置。")]),t._v(" "),s("h3",{attrs:{id:"var（默认）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#var（默认）","aria-hidden":"true"}},[t._v("#")]),t._v(" var（默认）")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Webpack 输出的代码")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" LibraryName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lb_code\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用库的方法")]),t._v("\nLibraryName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("假如 "),s("code",[t._v("output.library")]),t._v(" 为空，则直接输出："),s("code",[t._v("lib_code")])]),t._v(" "),s("p",[t._v("其中 "),s("code",[t._v("lib_code")]),t._v(" 是指导出库的代码内容，是有返回值的一个自执行函数。")]),t._v(" "),s("h3",{attrs:{id:"commonjs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#commonjs","aria-hidden":"true"}},[t._v("#")]),t._v(" commonjs")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Webpack 输出的代码")]),t._v("\nexports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LibraryName'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lib_code\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用库的方法")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'library-name-in-npm'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LibraryName'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("其中，library-name-in-npm 是指模块被发布到 NPM 代码仓库时的名称。")]),t._v(" "),s("h3",{attrs:{id:"commonjs2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#commonjs2","aria-hidden":"true"}},[t._v("#")]),t._v(" commonjs2")]),t._v(" "),s("p",[t._v("编写的库将通过 CommonJS2 规范导出。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Webpack 输出的代码")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lib_code\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用库的方法")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'library-name-in-npm'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"this"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#this","aria-hidden":"true"}},[t._v("#")]),t._v(" this")]),t._v(" "),s("p",[t._v("编写的库将通过 this 被赋值给通过 library 指定的名称。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Webpack 输出的代码")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LibraryName'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lib_code\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用库的方法")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LibraryName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"window"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#window","aria-hidden":"true"}},[t._v("#")]),t._v(" window")]),t._v(" "),s("p",[t._v("编写的库将通过 window 赋值给通过 library 指定的名称。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Webpack 输出的代码")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LibraryName'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lib_code\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用库的方法")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LibraryName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"global"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#global","aria-hidden":"true"}},[t._v("#")]),t._v(" global")]),t._v(" "),s("p",[t._v("编写的库将通过 window 赋值给通过 library 指定的名称。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Webpack 输出的代码")]),t._v("\nglobal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LibraryName'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lib_code\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用库的方法")]),t._v("\nglobal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LibraryName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"libraryexport"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#libraryexport","aria-hidden":"true"}},[t._v("#")]),t._v(" libraryExport")]),t._v(" "),s("p",[t._v("用于配置要导出的模块中哪些子模块需要被导出。")]),t._v(" "),s("p",[t._v("只有在 "),s("code",[t._v("output.libraryTarget")]),t._v(" 被设置成 commonjs 或者 commonjs2 时使用才有意义。")])])},[],!1,null,null,null);a.default=r.exports}}]);