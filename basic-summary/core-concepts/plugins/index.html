<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/webpack-guidebook/umi.css" />
    <script>
      window.routerBase = "/webpack-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.20
    </script>
    <title>plugins 插件</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/webpack-guidebook-favicon.svg&#x27;)" href="/webpack-guidebook//">Webpack Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a aria-current="page" class="active" href="/webpack-guidebook//basic-summary">基本综述</a><a href="/webpack-guidebook//principle-analysis">原理分析</a><a href="/webpack-guidebook//best-practice">最佳实践</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/webpack-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/webpack-guidebook-favicon.svg&#x27;)" href="/webpack-guidebook//"></a><h1>Webpack Guidebook</h1><p>Webpack 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/webpack-guidebook//basic-summary">基本综述</a></li><li><a href="/webpack-guidebook//principle-analysis">原理分析</a></li><li><a href="/webpack-guidebook//best-practice">最佳实践</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/webpack-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/webpack-guidebook//basic-summary/basic-concepts">基本概念</a><ul><li><a href="/webpack-guidebook//basic-summary/basic-concepts/modularization"><span>模块化</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/build-tool"><span>构建工具</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/grunt"><span>Grunt</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/gulp"><span>Gulp</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/rollup"><span>Rollup</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/parcel"><span>Parcel</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/webpack"><span>Webpack</span></a></li></ul></li><li><a aria-current="page" class="active" href="/webpack-guidebook//basic-summary/core-concepts">核心概念</a><ul><li><a href="/webpack-guidebook//basic-summary/core-concepts/mode"><span>mode 模式</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/entry"><span>entry 输入</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/output"><span>output 输出</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/resolve"><span>resolve 解析</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/module"><span>module 模块</span></a></li><li><a aria-current="page" class="active" href="/webpack-guidebook//basic-summary/core-concepts/plugins"><span>plugins 插件</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/dev-server"><span>devServer 开发服务器</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/other-options"><span>otherOptions 其他配置</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="MiniCssExtractPlugin" data-depth="2" class=""><a href="/webpack-guidebook//basic-summary/core-concepts/plugins#minicssextractplugin"><span>MiniCssExtractPlugin</span></a></li><li title="OptimizeCssAssetsWebpackPlugin" data-depth="2" class=""><a href="/webpack-guidebook//basic-summary/core-concepts/plugins#optimizecssassetswebpackplugin"><span>OptimizeCssAssetsWebpackPlugin</span></a></li><li title="SplitChunksPlugin / RuntimeChunkPlugin" data-depth="2" class=""><a href="/webpack-guidebook//basic-summary/core-concepts/plugins#splitchunksplugin--runtimechunkplugin"><span>SplitChunksPlugin / RuntimeChunkPlugin</span></a></li><li title="HotModuleReplacementPlugin" data-depth="2" class=""><a href="/webpack-guidebook//basic-summary/core-concepts/plugins#hotmodulereplacementplugin"><span>HotModuleReplacementPlugin</span></a></li><li title="HtmlWebpackPlugin" data-depth="2" class=""><a href="/webpack-guidebook//basic-summary/core-concepts/plugins#htmlwebpackplugin"><span>HtmlWebpackPlugin</span></a></li><li title="UglifyjsWebpackPlugin" data-depth="2" class=""><a href="/webpack-guidebook//basic-summary/core-concepts/plugins#uglifyjswebpackplugin"><span>UglifyjsWebpackPlugin</span></a></li><li title="PreloadWebpackPlugin" data-depth="2" class=""><a href="/webpack-guidebook//basic-summary/core-concepts/plugins#preloadwebpackplugin"><span>PreloadWebpackPlugin</span></a></li><li title="WebpackBundleAnalyzer" data-depth="2" class=""><a href="/webpack-guidebook//basic-summary/core-concepts/plugins#webpackbundleanalyzer"><span>WebpackBundleAnalyzer</span></a></li><li title="CopyWebpackPlugin" data-depth="2" class=""><a href="/webpack-guidebook//basic-summary/core-concepts/plugins#copywebpackplugin"><span>CopyWebpackPlugin</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="plugins-插件"><a aria-hidden="true" href="#plugins-插件"><span class="icon icon-link"></span></a>plugins 插件</h1><p><a href="https://webpack.docschina.org/configuration/plugins/" target="_blank" rel="noopener noreferrer">中文文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>用于扩展 Webpack 功能。</p><p>使用 Plugin 的难点在于掌握 Plugin 本身提供的配置项，而不是如何在 Webpack 中接入 Plugin。</p><h2 id="minicssextractplugin"><a aria-hidden="true" href="#minicssextractplugin"><span class="icon icon-link"></span></a>MiniCssExtractPlugin</h2><p><strong>用于提取 CSS</strong></p><ul><li><code>extract-text-webpack-plugin</code> 根据创建实例或配置多个入口 chunk</li></ul><p>比如一个入口文件 =&gt; 所有 CSS 提取在一个样式文件里</p><ul><li><code>min-css-extract-plugin</code> 默认对样式进行模块拆分。</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// extract-text-webpack-plugin
config.module.rules.push({
    test: /\.(scs|sas|cs)s$/,
    use: ExtractTextPlugin.extrac({
        use: [
            &quot;css-loader&quot;,
            {
                loader: &quot;postcss-loader&quot;,
                options: {
                    plugins: [
                        require(&#x27;autoprefixer&#x27;)({ // 添加前缀
                            browsers: CSS_BROWSERS
                        })
                    ],
                    minimize: true
                }
            },
            &quot;sass-loader&quot;
        ]
    })
})
config.plugins.push(new ExtractTextPlugin({
    filename: &#x27;css/[name].css&#x27;,
    disable: false,
    allChunks: true
}))
" data-status="copy"></button><div class="token-line"><span class="token comment">// extract-text-webpack-plugin</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">config</span><span class="token punctuation">.</span><span class="token property-access">module</span><span class="token punctuation">.</span><span class="token property-access">rules</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    test</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token regex">/\.(scs|sas|cs)s$/</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    use</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">ExtractTextPlugin</span><span class="token punctuation">.</span><span class="token method function property-access">extrac</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        use</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                loader</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                options</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                    plugins</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                        </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;autoprefixer&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token comment">// 添加前缀</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                            browsers</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token constant">CSS_BROWSERS</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                        </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                    </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                    minimize</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token string">&quot;sass-loader&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">config</span><span class="token punctuation">.</span><span class="token property-access">plugins</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    filename</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;css/[name].css&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    disable</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    allChunks</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p><code>postcss-loader</code> 用于与已有工具集成一起使用，很少有单独使用。</p><p>通常会配合 <code>autoprefixer</code> 来添加个浏览器的前缀，以达到更好的兼容。</p><p>在深入就是 <code>cssnext</code> 允许开发者自定义属性和变量。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// mini-css-extract-plugin
config.module.rules.push({
    test: /\.(scs|cs)s$/,
    use: [
        {
            loader: MiniExtractPlugin.loader
        },
        &quot;css-loader&quot;,
        {
            loader: &#x27;postcss-loader&#x27;,
            options: {
                plugins: [
                    require(&#x27;autofixer&#x27;)({
                        browsers: CSS_BROWSERS
                    })
                ]
            }
        }，
        &quot;sass-loader&quot;
    ]
})
" data-status="copy"></button><div class="token-line"><span class="token comment">// mini-css-extract-plugin</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">config</span><span class="token punctuation">.</span><span class="token property-access">module</span><span class="token punctuation">.</span><span class="token property-access">rules</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    test</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token regex">/\.(scs|cs)s$/</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    use</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            loader</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">MiniExtractPlugin</span><span class="token punctuation">.</span><span class="token property-access">loader</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            loader</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;postcss-loader&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            options</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                plugins</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                    </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;autofixer&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                        browsers</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token constant">CSS_BROWSERS</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                </span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token plain">，</span></div><div class="token-line"><span class="token plain">        </span><span class="token string">&quot;sass-loader&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="optimizecssassetswebpackplugin"><a aria-hidden="true" href="#optimizecssassetswebpackplugin"><span class="icon icon-link"></span></a>OptimizeCssAssetsWebpackPlugin</h2><p><strong>用于压缩 CSS 文件。</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="new OptimizeCssAssetsPlugin({
    assetNameRegExp: /\.optimize\.css$/g,
    cssProcessor: require(&#x27;cssnano&#x27;),
    cssProcessorpluginOptions: {
        preset: [&#x27;default&#x27;, { discardComments: { removeAll: true } }],
        // autoprefixer: { browsers: CSS_BROWSERS } 也可指定前缀
    }
})
" data-status="copy"></button><div class="token-line"><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">OptimizeCssAssetsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    assetNameRegExp</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token regex">/\.optimize\.css$/g</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    cssProcessor</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;cssnano&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    cssProcessorpluginOptions</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        preset</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> discardComments</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> removeAll</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token comment">// autoprefixer: { browsers: CSS_BROWSERS } 也可指定前缀</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="splitchunksplugin--runtimechunkplugin"><a aria-hidden="true" href="#splitchunksplugin--runtimechunkplugin"><span class="icon icon-link"></span></a>SplitChunksPlugin / RuntimeChunkPlugin</h2><p><code>CommonsChunkPlugin</code> 替代品，用于提取公共模块。</p><ul><li><code>chunks</code>：表示显示块的范围，三个可选值 <code>all</code>（全部块） <code>async</code>（按需加载块） <code>initial</code>（初始块）</li><li><code>minSize</code>：表示在压缩前的最小模块大小（默认为 0）</li><li><code>maxSize</code>：表示在压缩前的最大模块大小</li><li><code>minChunks</code> ：表示被引用次数（默认为 1）</li><li><code>maxAsyncRequests</code>：表示最大的按需（异步）加载次数（默认为 1）</li><li><code>maxInitialRequests</code>：最大的初始化加载次数（默认为 1）</li><li><code>name</code>：拆分出来块的名字（Chunk Names）默认由块名和 hash 值自动生成</li><li><code>cacheGroups</code>：缓存组</li></ul><p>如果不在缓存组中重新赋值，缓存组默认继承上述选项，但还有一些参数必须在缓存组进行配置。</p><ul><li><code>priority</code>：表示缓存的优先级</li><li><code>test</code>：缓存组的规则，表示符合条件的放入当前缓存组，值可是 <code>function</code> <code>boolean</code> <code>string</code> <code>RegExp</code> 默认为空</li><li><code>reuseExistingChunk</code>：表示可以使用已经存在的块，即如果满足条件的块已经存在就使用已有的，不再创建一个新的块</li></ul><h2 id="hotmodulereplacementplugin"><a aria-hidden="true" href="#hotmodulereplacementplugin"><span class="icon icon-link"></span></a>HotModuleReplacementPlugin</h2><p><strong>热更新替换。</strong></p><h2 id="htmlwebpackplugin"><a aria-hidden="true" href="#htmlwebpackplugin"><span class="icon icon-link"></span></a>HtmlWebpackPlugin</h2><p><strong>插入引用，根据模版生成 HTML。</strong></p><ul><li><code>filename</code>：表示输出的文件名</li><li><code>template</code>：模版文件</li><li><code>removeComments</code>：移除 HTML 中的注释</li><li><code>collapseWhitespace</code>：删除空白符与换行符</li><li><code>inlineSource</code>：插入到 HTML 的 CSS、JS 文件要内联，即不是以 link、script 形式引入</li><li><code>inject</code>：是否能注入内容到输出的页面</li><li><code>chunks</code>：指定插入某些模块</li><li><code>hash</code>：每次会在插入的文件后面加上 hash，用于处理缓存</li><li>其他：<code>favicon</code>、<code>meta</code>、<code>title</code></li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="new HtmlWebPackPlugin({
  filename: path.resolve(__dirname, &#x27;../assets/index.html&#x27;),
  template: path.resolve(__dirname,&quot;../views/temp.html&quot;),
  minify:{ // 压缩HTML文件　
     removeComments:true,
     collapseWhitespace:true
  },
  inlineSource:  &#x27;.(js|css)&#x27;,
  inject: false,
  chunks: [&#x27;vendors&#x27;, &#x27;index&#x27;],
  hash:true,
  // favicon、meta、title等都可以配置，页面内使用「&lt;%= htmlWebpackPlugin.options.title %&gt;」即可
})
" data-status="copy"></button><div class="token-line"><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">HtmlWebPackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  filename</span><span class="token punctuation">:</span><span class="token plain"> path</span><span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span><span class="token plain">__dirname</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;../assets/index.html&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  template</span><span class="token punctuation">:</span><span class="token plain"> path</span><span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span><span class="token plain">__dirname</span><span class="token punctuation">,</span><span class="token string">&quot;../views/temp.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  minify</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token comment">// 压缩HTML文件　</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">     removeComments</span><span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">     collapseWhitespace</span><span class="token punctuation">:</span><span class="token boolean">true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  inlineSource</span><span class="token punctuation">:</span><span class="token plain">  </span><span class="token string">&#x27;.(js|css)&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  inject</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  chunks</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;vendors&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;index&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  hash</span><span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// favicon、meta、title等都可以配置，页面内使用「&lt;%= htmlWebpackPlugin.options.title %&gt;」即可</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="uglifyjswebpackplugin"><a aria-hidden="true" href="#uglifyjswebpackplugin"><span class="icon icon-link"></span></a>UglifyjsWebpackPlugin</h2><p><strong>用于代码压缩。</strong> 默认使用 <code>optimization.minimizer</code></p><ul><li><code>cache</code>：Boolean / String 字符即缓存文件存放的路径</li><li><code>test</code>：匹配某些文件</li><li><code>parallel</code>：启用多线程并行提高编译速度</li><li><code>output.comments</code>：删除所有注释</li><li><code>compress.warnings</code>：插件删除无用代码不报错</li><li><code>compress.drop_console</code>：过滤 <code>console</code> 代码</li><li>其他：定义压缩程度、提出多次出现但没有变量的值的配置</li></ul><h2 id="preloadwebpackplugin"><a aria-hidden="true" href="#preloadwebpackplugin"><span class="icon icon-link"></span></a>PreloadWebpackPlugin</h2><p><strong>用于预加载资源。</strong> 匹配其他页面可能用到的资源进行预先加载，从而达到无 loading，用户无感知的跳转。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 1. 配置置于 HtmlWebpackPlugin 之后
// 2. Webpack4之后，请使用最新版 npm install --save-dev preload-webpack-plugin@next
new PreloadWebpackPlugin({
    rel: &#x27;prefetch&#x27;,
    as: &#x27;script&#x27;,
    // as(entry){
    //   if(/\.css$/.test(entry)) return &#x27;style&#x27;;
    //   return &#x27;script&#x27;
    // }
    include: &#x27;asyncChunks&#x27;,
    // fileBlacklist: [&quot;index.css&quot;]
    fileBlackList: [/\index.css|index.js|vendors.js]/,/\.whatever/]
})
" data-status="copy"></button><div class="token-line"><span class="token comment">// 1. 配置置于 HtmlWebpackPlugin 之后</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 2. Webpack4之后，请使用最新版 npm install --save-dev preload-webpack-plugin@next</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">PreloadWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    rel</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;prefetch&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword module">as</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;script&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// as(entry){</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">//   if(/\.css$/.test(entry)) return &#x27;style&#x27;;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">//   return &#x27;script&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// }</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    include</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;asyncChunks&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// fileBlacklist: [&quot;index.css&quot;]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    fileBlackList</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token regex">/\index.css|index.js|vendors.js]/</span><span class="token punctuation">,</span><span class="token regex">/\.whatever/</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="webpackbundleanalyzer"><a aria-hidden="true" href="#webpackbundleanalyzer"><span class="icon icon-link"></span></a>WebpackBundleAnalyzer</h2><p><strong>构建结果分析。</strong> 有利于我们快速查找包过大、内容是否重复、问题定位优化等。</p><ul><li><code>analyzerHost</code> <code>analyzerPort</code>：自定义配置打开的地址、端口，默认使用 127.0.0.1:8888</li><li><code>reportFilename</code>：报告生成的路径，默认以项目的 <code>output.path</code> 输出</li><li><code>openAnalyzer</code>：是否要自动打开分析窗口</li></ul><h2 id="copywebpackplugin"><a aria-hidden="true" href="#copywebpackplugin"><span class="icon icon-link"></span></a>CopyWebpackPlugin</h2><p><strong>文件拷贝</strong></p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/Webpack-Guidebook/edit/master/docs/basic-summary/core-concepts/plugins.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">9/18/2020, 10:19:07 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/webpack-guidebook/umi.js"></script>
    <script src="/webpack-guidebook/docs__basic-summary__core-concepts__plugins.md.js"></script>
  </body>
</html>
