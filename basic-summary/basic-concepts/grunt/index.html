<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/webpack-guidebook/umi.css" />
    <script>
      window.routerBase = "/webpack-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.20
    </script>
    <title>Grunt</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/webpack-guidebook-favicon.svg&#x27;)" href="/webpack-guidebook//">Webpack Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a aria-current="page" class="active" href="/webpack-guidebook//basic-summary">基本综述</a><a href="/webpack-guidebook//principle-analysis">原理分析</a><a href="/webpack-guidebook//best-practice">最佳实践</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/webpack-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/webpack-guidebook-favicon.svg&#x27;)" href="/webpack-guidebook//"></a><h1>Webpack Guidebook</h1><p>Webpack 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/webpack-guidebook//basic-summary">基本综述</a></li><li><a href="/webpack-guidebook//principle-analysis">原理分析</a></li><li><a href="/webpack-guidebook//best-practice">最佳实践</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/webpack-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a aria-current="page" class="active" href="/webpack-guidebook//basic-summary/basic-concepts">基本概念</a><ul><li><a href="/webpack-guidebook//basic-summary/basic-concepts/modularization"><span>模块化</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/build-tool"><span>构建工具</span></a></li><li><a aria-current="page" class="active" href="/webpack-guidebook//basic-summary/basic-concepts/grunt"><span>Grunt</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/gulp"><span>Gulp</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/rollup"><span>Rollup</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/parcel"><span>Parcel</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/webpack"><span>Webpack</span></a></li></ul></li><li><a href="/webpack-guidebook//basic-summary/core-concepts">核心概念</a><ul><li><a href="/webpack-guidebook//basic-summary/core-concepts/mode"><span>mode 模式</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/entry"><span>entry 输入</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/output"><span>output 输出</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/resolve"><span>resolve 解析</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/module"><span>module 模块</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/plugins"><span>plugins 插件</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/dev-server"><span>devServer 开发服务器</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/other-options"><span>otherOptions 其他配置</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="Gruntfile" data-depth="2" class=""><a href="/webpack-guidebook//basic-summary/basic-concepts/grunt#gruntfile"><span>Gruntfile</span></a></li><li title="文件案例" data-depth="3" class=""><a href="/webpack-guidebook//basic-summary/basic-concepts/grunt#文件案例"><span>文件案例</span></a></li><li title="包装函数" data-depth="3" class=""><a href="/webpack-guidebook//basic-summary/basic-concepts/grunt#包装函数"><span>包装函数</span></a></li><li title="项目和任务配置" data-depth="3" class=""><a href="/webpack-guidebook//basic-summary/basic-concepts/grunt#项目和任务配置"><span>项目和任务配置</span></a></li><li title="加载 Grunt 插件和任务" data-depth="3" class=""><a href="/webpack-guidebook//basic-summary/basic-concepts/grunt#加载-grunt-插件和任务"><span>加载 Grunt 插件和任务</span></a></li><li title="自定义任务" data-depth="3" class=""><a href="/webpack-guidebook//basic-summary/basic-concepts/grunt#自定义任务"><span>自定义任务</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="grunt"><a aria-hidden="true" href="#grunt"><span class="icon icon-link"></span></a>Grunt</h1><p>Grunt 是基于 Node.js 的命令行工具。实际上它也是一个 <strong>任务运行器</strong>（Task Runner），可用于自动化构建、测试、生成文档的项目工具。</p><p>Grunt 通过 <code>grunt</code> 对象暴露所有方法和属性，并将此对象赋予 <code>module.exports</code> 函数，这些方法和属性都将传递到你的 Gruntfile、Grunt 插件或者 <code>task</code> 文件中。</p><p>所有的方法几乎都是在别处定义的，但是为了方便使用，也在 <code>grunt</code> 对象中做了定义。详细的解释和案例请参阅各个 <a href="https://www.gruntjs.net/api/grunt" target="_blank" rel="noopener noreferrer">API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 单独的文档。</p><h2 id="gruntfile"><a aria-hidden="true" href="#gruntfile"><span class="icon icon-link"></span></a>Gruntfile</h2><p><code>Gruntfile.js</code> 或 <code>Gruntfile.coffee</code> 文件是有效的 JavaScript 或 CoffeeScript 文件，应当放在你的项目根目录中，和 <code>package.json</code> 文件在同一目录层级，并和项目源码一起加入源码管理器。</p><p>Gruntfile 由以下几部分构成：</p><ul><li><code>&quot;wrapper&quot;</code> 函数</li><li>项目与任务配置</li><li>加载 Grunt 插件和任务</li><li>自定义任务</li></ul><h3 id="文件案例"><a aria-hidden="true" href="#文件案例"><span class="icon icon-link"></span></a>文件案例</h3><p>在下面列出的这个 Gruntfile 中，<code>package.json</code> 文件中的项目元数据（metadata）被导入到 Grunt 配置中， <code>grunt-contrib-uglify</code> 插件中的 <code>uglify</code> 任务（task）被配置为压缩（minify）源码文件并依据上述元数据动态生成一个文件头注释。当在命令行中执行 <code>grunt</code> 命令时，<code>uglify</code> 任务将被默认执行。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="module.exports = function(grunt) {
  // 项目初始化配置
  grunt.initConfig({
    pkg: grunt.file.readJSON(&#x27;package.json&#x27;),
    uglify: {
      options: {
        banner: &#x27;/*! &lt;%= pkg.name %&gt; &lt;%= grunt.template.today(&quot;yyyy-mm-dd&quot;) %&gt; */\n&#x27;,
      },
      build: {
        src: &#x27;src/&lt;%= pkg.name %&gt;.js&#x27;,
        dest: &#x27;build/&lt;%= pkg.name %&gt;.min.js&#x27;,
      },
    },
  });

  // 加载包含 &quot;uglify&quot; 任务的插件。
  grunt.loadNpmTasks(&#x27;grunt-contrib-uglify&#x27;);

  // 默认被执行的任务列表。
  grunt.registerTask(&#x27;default&#x27;, [&#x27;uglify&#x27;]);
};
" data-status="copy"></button><div class="token-line"><span class="token plain">module</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">grunt</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 项目初始化配置</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  grunt</span><span class="token punctuation">.</span><span class="token method function property-access">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    pkg</span><span class="token punctuation">:</span><span class="token plain"> grunt</span><span class="token punctuation">.</span><span class="token property-access">file</span><span class="token punctuation">.</span><span class="token method function property-access">readJSON</span><span class="token punctuation">(</span><span class="token string">&#x27;package.json&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    uglify</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      options</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        banner</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;/*! &lt;%= pkg.name %&gt; &lt;%= grunt.template.today(&quot;yyyy-mm-dd&quot;) %&gt; */\n&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      build</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        src</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;src/&lt;%= pkg.name %&gt;.js&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        dest</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;build/&lt;%= pkg.name %&gt;.min.js&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 加载包含 &quot;uglify&quot; 任务的插件。</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  grunt</span><span class="token punctuation">.</span><span class="token method function property-access">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">&#x27;grunt-contrib-uglify&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 默认被执行的任务列表。</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  grunt</span><span class="token punctuation">.</span><span class="token method function property-access">registerTask</span><span class="token punctuation">(</span><span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;uglify&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="包装函数"><a aria-hidden="true" href="#包装函数"><span class="icon icon-link"></span></a>包装函数</h3><p>每一份 Gruntfile （和 Grunt 插件）都遵循同样的格式，你所书写的 Grunt 代码必须放在此函数内：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="module.exports = function(grunt) {
  // Do grunt-related things in here
};
" data-status="copy"></button><div class="token-line"><span class="token plain">module</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">grunt</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// Do grunt-related things in here</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="项目和任务配置"><a aria-hidden="true" href="#项目和任务配置"><span class="icon icon-link"></span></a>项目和任务配置</h3><p>大部分的 Grunt 任务都依赖某些配置数据，这些数据被定义在一个 <code>object</code> 内，并传递给 <code>grunt.initConfig</code> 方法。</p><p>在下面的案例中，<code>grunt.file.readJSON(&#x27;package.json&#x27;)</code> 将存储在 <code>package.json</code> 文件中的 JSON 元数据引入到 <code>grunt config</code> 中。 由于 <code>&lt;% %&gt;</code> 模板字符串可以引用任意的配置属性，因此可以通过这种方式来指定诸如文件路径和文件列表类型的配置数据，从而减少一些重复的工作。</p><p>你可以在这个配置对象中（传递给 <code>initConfig()</code>方法的对象）存储任意的数据，只要它不与你任务配置所需的属性冲突，否则会被忽略。此外，由于这本身就是 JavaScript，你不仅限于使用 JSON；你可以在这里使用任意的有效的 JS 代码。如果有必要，你甚至可以以编程的方式生成配置。</p><p>与大多数 task 一样，<code>grunt-contrib-uglify</code> 插件中的 <code>uglify</code> 任务要求它的配置被指定在一个同名属性中。在这里有一个例子, 我们指定了一个 <code>banner</code> 选项(用于在文件顶部生成一个注释)，紧接着是一个单一的名为 <code>build</code> 的 <code>uglify</code> 目标，用于将一个 JS 文件压缩为一个目标文件。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// Project configuration.
grunt.initConfig({
  pkg: grunt.file.readJSON(&#x27;package.json&#x27;),
  uglify: {
    options: {
      banner: &#x27;/*! &lt;%= pkg.name %&gt; &lt;%= grunt.template.today(&quot;yyyy-mm-dd&quot;) %&gt; */\n&#x27;,
    },
    build: {
      src: &#x27;src/&lt;%= pkg.name %&gt;.js&#x27;,
      dest: &#x27;build/&lt;%= pkg.name %&gt;.min.js&#x27;,
    },
  },
});
" data-status="copy"></button><div class="token-line"><span class="token comment">// Project configuration.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">grunt</span><span class="token punctuation">.</span><span class="token method function property-access">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  pkg</span><span class="token punctuation">:</span><span class="token plain"> grunt</span><span class="token punctuation">.</span><span class="token property-access">file</span><span class="token punctuation">.</span><span class="token method function property-access">readJSON</span><span class="token punctuation">(</span><span class="token string">&#x27;package.json&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  uglify</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    options</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      banner</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;/*! &lt;%= pkg.name %&gt; &lt;%= grunt.template.today(&quot;yyyy-mm-dd&quot;) %&gt; */\n&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    build</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      src</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;src/&lt;%= pkg.name %&gt;.js&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      dest</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;build/&lt;%= pkg.name %&gt;.min.js&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="加载-grunt-插件和任务"><a aria-hidden="true" href="#加载-grunt-插件和任务"><span class="icon icon-link"></span></a>加载 Grunt 插件和任务</h3><p>像 concatenation、minification、grunt-contrib-uglify 和 linting 这些常用的任务（task）都已经以 Grunt 插件的形式被开发出来了。只要在 <code>package.json</code> 文件中被列为 <code>dependency</code>（依赖）的包，并通过 <code>npm install</code> 安装之后，都可以在 Gruntfile 中以简单命令的形式使用：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 加载能够提供&quot;uglify&quot;任务的插件。
grunt.loadNpmTasks(&#x27;grunt-contrib-uglify&#x27;);
" data-status="copy"></button><div class="token-line"><span class="token comment">// 加载能够提供&quot;uglify&quot;任务的插件。</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">grunt</span><span class="token punctuation">.</span><span class="token method function property-access">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">&#x27;grunt-contrib-uglify&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>注意：<code>grunt --help</code> 命令将列出所有可用的任务。</p><h3 id="自定义任务"><a aria-hidden="true" href="#自定义任务"><span class="icon icon-link"></span></a>自定义任务</h3><p>通过定义 <code>default</code> 任务，可以让 Grunt 默认执行一个或多个任务。在下面的这个案例中，执行 <code>grunt</code> 命令时如果不指定一个任务的话，将会执行 <code>uglify</code> 任务。这和执行 <code>grunt uglify</code> 或者 <code>grunt default</code> 的效果一样。<code>default</code> 任务列表数组中可以指定任意数目的任务（可以带参数）。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// Default task(s).
grunt.registerTask(&#x27;default&#x27;, [&#x27;uglify&#x27;]);
" data-status="copy"></button><div class="token-line"><span class="token comment">// Default task(s).</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">grunt</span><span class="token punctuation">.</span><span class="token method function property-access">registerTask</span><span class="token punctuation">(</span><span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;uglify&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>如果 Grunt 插件中的任务（task）不能满足你的项目需求，你还可以在 Gruntfile 中自定义任务（task）。例如，在下面的 Gruntfile 中自定义了一个 <code>default</code> 任务，并且他甚至不依赖任务配置：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="module.exports = function(grunt) {
  // A very basic default task.
  grunt.registerTask(&#x27;default&#x27;, &#x27;Log some stuff.&#x27;, function() {
    grunt.log.write(&#x27;Logging some stuff...&#x27;).ok();
  });
};
" data-status="copy"></button><div class="token-line"><span class="token plain">module</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">grunt</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// A very basic default task.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  grunt</span><span class="token punctuation">.</span><span class="token method function property-access">registerTask</span><span class="token punctuation">(</span><span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;Log some stuff.&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    grunt</span><span class="token punctuation">.</span><span class="token property-access">log</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token string">&#x27;Logging some stuff...&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>特定于项目的任务不必在 Gruntfile 中定义。他们可以定义在外部 <code>.js</code> 文件中，并通过 <code>grunt.loadTasks</code> 方法加载。</p><hr/><p><strong>参考资料：</strong></p><ul><li><a href="https://www.w3cplus.com/tools/writing-awesome-build-script-grunt.html" target="_blank" rel="noopener noreferrer">📝 使用 Grunt 构建任务管理脚本<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://segmentfault.com/a/1190000005029360" target="_blank" rel="noopener noreferrer">📝 有关 Grunt - 自动化构建工具的奇技淫巧<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/Webpack-Guidebook/edit/master/docs/basic-summary/basic-concepts/grunt.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">9/18/2020, 10:19:07 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/webpack-guidebook/umi.js"></script>
    <script src="/webpack-guidebook/docs__basic-summary__basic-concepts__grunt.md.js"></script>
  </body>
</html>
